<%- include('../partials/header', { title: title }) %>

<style>
body {
 background-color: #0d1a26;
 color: #c0c0c0;
}

  .container-fluid {
    padding: 30px; 
  }
 h1 {
 color: #ffbf00;
 border-bottom: 2px solid #36454f; 
    padding-bottom: 10px;
    margin-bottom: 30px !important;
    font-weight: 700; 
  }
 .card {
 background-color: #1c2e40;
 border: 1px solid #36454f;
 border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  }
 .table {
 color: #ffffff;
  }

 .table thead {
   background-color: #36454f !important;
    color: #ffbf00;
    font-weight: 600; 
    letter-spacing: 0.5px;
  }
 .table tbody tr:hover {
 background-color: #2a415a !important; 
 cursor: pointer;
 }

.badge.bg-success {
 background-color: #00704a !important; 
 color: #ffffff;
  padding: 6px 10px;
 font-weight: 700;
 }
 .badge.bg-danger {
 background-color: #8b0000 !important;
 color: #ffffff;
 padding: 6px 10px;
 font-weight: 700;
 }

 .btn-primary {
    background-color: #ffbf00;
    color: #000000;
    border: none;
    border-radius: 4px;
 padding: 8px 15px;
    font-weight: 600;
    transition: background-color 0.3s ease, transform 0.1s ease;
    text-transform: uppercase;
  }
 .btn-primary:hover {
 background-color: #e6a700; 
 transform: translateY(-1px); 
}
</style>

<div class="container-fluid">
 <h1 class="mb-4">ðŸ”‘ Daftar API Keys</h1>

 <div class="card shadow-lg">
 <div class="card-body">
Â  Â  Â  <div class="table-responsive">
Â  Â  Â  Â  <table class="table table-hover align-middle">
Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  <th scope="col">Nama Lengkap</th>
Â  Â  Â  Â  Â  Â  Â  <th scope="col">Email</th>
Â  Â  Â  Â  Â  Â  Â  <th scope="col">Status</th>
Â  Â  Â  Â  Â  Â  Â  <th scope="col">End Date</th>
Â  Â  Â  Â  Â  Â  Â  <th scope="col">Aksi</th>
Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <% keys.forEach(key => { %>
Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  <td><%= key.first_name %> <%= key.last_name %></td>
Â  Â  Â  Â  Â  Â  Â  Â  <td><%= key.email %></td>
Â  Â  Â  Â  Â  Â  Â  Â  <td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <% if (key.status === 'valid') { %>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="badge bg-success">Valid</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <% } else { %>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="badge bg-danger">Invalid</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <% } %>
Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  <td><%= new Date(key.end_date).toLocaleDateString('id-ID') %></td>
Â  Â  Â  Â  Â  Â  Â  Â  <td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="/admin/detail/<%= key.id %>" class="btn btn-sm btn-primary">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Lihat Detail
Â  Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  <% }) %>

Â  Â  Â  Â  Â  Â  <% if (keys.length === 0) { %>
Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  <td colspan="5" class="text-center p-4">Belum ada API Key yang dibuat.</td>
Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  <% } %>

Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  </table>
Â  Â  Â  </div>
Â  Â  Â  </div>
Â  </div>
</div>

<%- include('../partials/footer') %>